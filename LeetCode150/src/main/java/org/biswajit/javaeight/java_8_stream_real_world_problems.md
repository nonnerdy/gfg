# Java 8 Stream – Real‑World Problem Set

This document contains **20 real‑world, interview‑grade problems** designed to test practical understanding of **Java 8 Streams**.  
Each problem includes a **descriptive problem statement**, **sample input**, and **expected output**.

---

## 1. Order Revenue Analytics

### Problem Statement
You are building a reporting feature for an e‑commerce system. Each order belongs to a customer and has a monetary amount and a final status. Only orders that are successfully **DELIVERED** contribute to revenue.

Calculate the **total revenue generated by each customer**, considering only delivered orders, and return the result sorted by total revenue in **descending order**.

### Input
```text
O1, C1, 500, DELIVERED
O2, C1, 300, CANCELLED
O3, C2, 700, DELIVERED
O4, C2, 100, DELIVERED
```

### Output
```text
C2 -> 800
C1 -> 500
```

---

## 2. Highest Paid Employee per Department

### Problem Statement
An organization wants to identify salary benchmarks across departments. Given a list of employees where each employee belongs to a department and has a salary, determine the **highest paid employee in each department**.

### Input
```text
E1, IT, 80000
E2, IT, 90000
E3, HR, 60000
```

### Output
```text
IT -> E2
HR -> E3
```

---

## 3. Duplicate Transaction Detection

### Problem Statement
In a financial system, users may accidentally perform duplicate payments. A duplicate is defined as multiple transactions by the **same user with the same amount**.

Identify users who have made **at least one duplicate transaction**.

### Input
```text
T1, U1, 500
T2, U1, 500
T3, U2, 300
T4, U2, 400
```

### Output
```text
[U1]
```

---

## 4. Inventory Low‑Stock Monitoring

### Problem Statement
An inventory service tracks product availability across categories. Each product has a stock count.

Find the categories where the **average stock level is below 10**.

### Input
```text
P1, Electronics, 5
P2, Electronics, 8
P3, Grocery, 20
```

### Output
```text
[Electronics]
```

---

## 5. Error Log Analysis

### Problem Statement
A centralized logging system collects logs from multiple services. Each log entry contains a service name and a severity level.

Identify the **top 3 services generating the highest number of ERROR logs**.

### Input
```text
Auth, ERROR
Order, ERROR
Auth, ERROR
Payment, INFO
Order, ERROR
```

### Output
```text
Auth -> 2
Order -> 2
```

---

## 6. Customer Purchase Consistency

### Problem Statement
The marketing team wants to identify loyal customers. A loyal customer is defined as someone who has placed at least one order in **three consecutive months**.

### Input
```text
C1 -> Jan, Feb, Mar
C2 -> Jan, Mar
```

### Output
```text
[C1]
```

---

## 7. Distinct Items Purchased

### Problem Statement
Each order may contain multiple items. Extract a list of **distinct item names** purchased across all orders.

### Input
```text
Order1 -> [Phone, Charger]
Order2 -> [Charger, Earphones]
```

### Output
```text
[Phone, Charger, Earphones]
```

---

## 8. Payment Failure Detection

### Problem Statement
A payment service allows retries when a payment fails. An order is considered problematic if its payment has **failed more than two times**.

### Input
```text
O1 FAILED
O1 FAILED
O1 FAILED
O2 FAILED
O2 SUCCESS
```

### Output
```text
[O1]
```

---

## 9. API Performance Monitoring

### Problem Statement
API response times are logged for monitoring and optimization. Compute the **average response time per API**.

### Input
```text
/login 100
/login 300
/pay 200
```

### Output
```text
/login -> 200
/pay -> 200
```

---

## 10. Most Active User

### Problem Statement
User activity logs capture every action performed by users. Determine the **user with the highest number of actions**.

### Input
```text
U1 LOGIN
U1 CLICK
U2 LOGIN
```

### Output
```text
U1
```

---

## 11. Extract Unique Cities Safely

### Problem Statement
User profiles may or may not contain address information. Extract a list of **unique cities**, safely handling missing address data.

### Input
```text
U1 -> Kolkata
U2 -> null
U3 -> Bangalore
```

### Output
```text
[Kolkata, Bangalore]
```

---

## 12. Aggregation Using Reduce

### Problem Statement
Calculate the total purchase amount per customer **without using built‑in summing collectors**.

### Input
```text
C1 200
C1 300
C2 400
```

### Output
```text
C1 -> 500
C2 -> 400
```

---

## 13. Latest Event Selection

### Problem Statement
Multiple events with the same event ID may arrive at different times. Keep only the **latest event per event ID**.

### Input
```text
E1 10:00
E1 12:00
E2 11:00
```

### Output
```text
E1 -> 12:00
E2 -> 11:00
```

---

## 14. Parallel Stream Safety

### Problem Statement
A developer attempts to compute a sum using a parallel stream and shared mutable state, leading to incorrect results.

Explain why this happens and rewrite it using a **thread‑safe stream approach**.

### Input
```java
list.parallelStream().forEach(i -> sum += i);
```

### Output
```text
Correct sum without race condition
```

---

## 15. Text Analytics – Word Frequency

### Problem Statement
Given multiple sentences, compute the **top 5 most frequent words**, ignoring case and punctuation.

### Input
```text
["Java is great", "Java streams are great"]
```

### Output
```text
java -> 2
great -> 2
streams -> 1
are -> 1
is -> 1
```

---

## 16. Multi‑Level Employee Grouping

### Problem Statement
Group employees by **department**, then by **designation**, and compute the **average salary** for each group.

### Input
```text
IT, DEV, 80000
IT, DEV, 100000
HR, HR, 60000
```

### Output
```text
IT -> DEV -> 90000
HR -> HR -> 60000
```

---

## 17. Order Value Classification

### Problem Statement
Classify orders into **LOW**, **MEDIUM**, or **HIGH** value buckets and return the count for each category.

### Input
```text
100, 600, 1200
```

### Output
```text
LOW -> 1
MEDIUM -> 1
HIGH -> 1
```

---

## 18. Price Trend Analysis

### Problem Statement
Daily prices are recorded for a product. Identify the days where the price **increased compared to the previous day**.

### Input
```text
Day1 100
Day2 120
Day3 110
```

### Output
```text
[Day2]
```

---

## 19. Short‑Circuit Validation

### Problem Statement
Record validation is expensive. Find the **first valid record**, ensuring unnecessary validations are avoided.

### Input
```text
R1 invalid
R2 invalid
R3 valid
```

### Output
```text
R3
```

---

## 20. One‑Pass Statistical Metrics

### Problem Statement
Process a stream of numbers and compute **minimum, maximum, average, and count** in a **single traversal** using a custom collector.

### Input
```text
[10, 20, 30]
```

### Output
```text
min=10, max=30, avg=20, count=3
```

---

### Usage
- Ideal for **senior Java interviews**
- Suitable for **take‑home assignments**
- Can be extended with **Java 21 Stream solutions**

